---
title: [PT이용권 프로젝트 1. 요구사항 이해하기 및 설계]
author: excelsiorKim
date: 2024-04-25 20:52:03 +0900
categories: [Project, PT-Ticket]
tags: [back-end, Java, Project, Spring, Spring Batch]
keywords: [back-end, Java, Project, Spring, Spring Batch]
description: PT 이용권 프로젝트
toc: true
toc_sticky: true
---

# 서비스 요구사항

## 대상 별 요구 사항

- 사용자
  - 사용자는 N개의 이용권을 가질 수 있다.
  - 이용권은 횟수가 모두 소진되거나 이용기간이 지나면 만료된다.
  - 이용권은 만료 전 사용자에게 알림을 보낸다.
  - 업체에서 원하는 시간을 설정하여 일괄로 사용자에게 이용권을 지급할 수 있다.
- 자동 알림
  - 예약된 수업 10분 전 출석 안내 알람을 준다.
  - 수업 종료 시간 시점 수업을 예약한 학생의 이용권 횟수를 일괄로 차감한다.
- 통계
  - 사용자의 수업 예약, 출석, 이용권 횟수 등의 데이터로 유의미한 통계 데이터를 만든다.

## 계층 별 요구 사항

- Batch
  - 이용권 만료
  - 이용권 일괄 지급
  - 수업 전 알림
  - 수업 후 이용권 차감
  - 통계 데이터 구축
- View
  - 사용자 이용권 조회 페이지
  - 관리자 이용권 등록 페이지
  - 관리자 통계 조회 페이지
- API
  - 사용자 이용권 조회 API
  - 관리자 이용권 조회 API
  - 관리자 통계 조회 API

# 설계

## 초기 데이터 설계

- 패키지
  |패키지|
  |---|
  |체육관 ID|
  |패키지 ID|
  |패키지 이름|
  |기간|
  |횟수|

- 이용권
  |이용권 순번|
  |---|
  |체육관 ID|
  |사용자 ID|
  |패키지 ID|
  |잔여 횟수|
  |시작 일시|
  |종료 일시|

- 예약
  |예약 순번|
  |---|
  |체육관 ID|
  |사용자 ID|
  |이용권 순번|
  |시작 일시|
  |종료 일시|
  |이용권 차감 여부|

- 사용자
  |사용자|
  |---|
  |사용자 ID|
  |이름|
  |상태|
  |전화번호|

- 체육관
  |체육관|
  |---|
  |체육관 ID|
  |이름|
  |상태|
  |장소|
  - 단, 현재로는 복잡도를 줄이기 위해 우선 1개의 체육관만을 관리한다는 전제로 진행함
